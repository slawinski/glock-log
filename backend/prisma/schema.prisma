// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Firearm {
  id                    String   @id @default(uuid())
  modelName            String
  caliber              String
  datePurchased        DateTime
  amountPaid           Float
  photos               String[] // Array of photo URLs
  roundsFired          Int      @default(0) // Total rounds fired through this firearm
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt

  @@map("firearms")
}

model RangeVisit {
  id                    String   @id @default(uuid())
  date                  DateTime
  location              String
  notes                 String?
  firearmsUsed          String[] // Array of firearm IDs
  roundsPerFirearm      Json     // Map of firearmId to rounds fired
  photos                String[] // Array of photo URLs
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt

  @@map("range_visits")
}

model Ammunition {
  id                    String   @id @default(uuid())
  caliber              String
  brand                String
  grain                Int
  quantity             Int
  datePurchased        DateTime
  amountPaid           Float
  notes                String?
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt

  @@map("ammunition")
} 